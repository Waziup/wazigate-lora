{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"React\"","webpack:///external \"BabelRuntimeHelpers.interopRequireDefault\"","webpack:///./node_modules/@material-ui/icons/utils/createSvgIcon.js","webpack:///./src/hook.tsx","webpack:///./node_modules/@material-ui/icons/Remove.js","webpack:///external \"BabelRuntimeHelpers.extends\"","webpack:///external \"MaterialUI.SvgIcon\"","webpack:///./node_modules/@material-ui/icons/Router.js","webpack:///./node_modules/@material-ui/icons/Save.js","webpack:///./node_modules/@material-ui/icons/AddCircleOutline.js","webpack:///external \"MaterialUI\"","webpack:///./node_modules/clsx/dist/clsx.m.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","React","BabelRuntimeHelpers","interopRequireDefault","_interopRequireDefault","default","path","displayName","Component","_react","memo","forwardRef","props","ref","createElement","_SvgIcon","_extends2","muiName","hooks","addDeviceMenuHook","device","handleMenuClose","setDevice","meta","lorawan","MenuItem","onClick","lorawanMeta","profile","wazigate","setDeviceMeta","id","ListItemIcon","fontSize","ListItemText","primary","secondary","useStylesLoRaWAN","makeStyles","theme","root","overflow","textAlign","scrollBox","padding","spacing","minWidth","maxWidth","display","paper","background","header","color","flexGrow","body","input","marginBottom","shortInput","width","longInput","footer","cardBtn","marginRight","cleanHex","replace","addDeviceHook","classes","oldMeta","newMeta","setNewMeta","useState","showErrors","setShowErrors","setMeta","hasUnsavedChanges","devAddr","nwkSEncKey","appSKey","devEUI","devAddrErr","length","nwkSEncKeyErr","appSKeyErr","devEUIErr","hasErrors","devAddr2EUI","className","Card","CardHeader","avatar","action","IconButton","confirm","then","error","alert","title","CardContent","FormGroup","FormControl","InputLabel","Select","labelId","onChange","event","target","Fragment","htmlFor","Input","endAdornment","InputAdornment","position","Tooltip","size","FormHelperText","rk","k","Array","Math","random","join","TextField","label","helperText","CardActions","Grow","in","Button","variant","startIcon","timeout","enter","exit","resolve","_default","extends","MaterialUI","SvgIcon","toVal","mix","y","str","isArray","x","arguments"],"mappings":"aACE,IAAIA,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,IAUV,OANAI,EAAQL,GAAUM,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,GAAI,EAGJF,EAAOD,QAKfF,EAAoBQ,EAAIF,EAGxBN,EAAoBS,EAAIV,EAGxBC,EAAoBU,EAAI,SAASR,EAASS,EAAMC,GAC3CZ,EAAoBa,EAAEX,EAASS,IAClCG,OAAOC,eAAeb,EAASS,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEZ,EAAoBkB,EAAI,SAAShB,GACX,oBAAXiB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeb,EAASiB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,KAQvDrB,EAAoBsB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQrB,EAAoBqB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFA1B,EAAoBkB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOrB,EAAoBU,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRzB,EAAoB6B,EAAI,SAAS1B,GAChC,IAAIS,EAAST,GAAUA,EAAOqB,WAC7B,WAAwB,OAAOrB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAH,EAAoBU,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRZ,EAAoBa,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG/B,EAAoBkC,EAAI,GAIjBlC,EAAoBA,EAAoBmC,EAAI,G,gBClFrDhC,EAAOD,QAAUkC,O,cCAjBjC,EAAOD,QAAUmC,oBAAoBC,uB,6BCErC,IAAIC,EAAyB,EAAQ,GAErCzB,OAAOC,eAAeb,EAAS,aAAc,CAC3CmB,OAAO,IAETnB,EAAQsC,QAQR,SAAuBC,EAAMC,GAC3B,IAAIC,EAAYC,EAAOJ,QAAQK,KAAKD,EAAOJ,QAAQM,YAAW,SAAUC,EAAOC,GAC7E,OAAOJ,EAAOJ,QAAQS,cAAcC,EAASV,SAAS,EAAIW,EAAUX,SAAS,CAC3EQ,IAAKA,GACJD,GAAQN,OAGT,EAKJ,OADAE,EAAUS,QAAUF,EAASV,QAAQY,QAC9BT,GAlBT,IAAIQ,EAAYZ,EAAuB,EAAQ,IAE3CK,EAASL,EAAuB,EAAQ,IAExCW,EAAWX,EAAuB,EAAQ,K,uqBCb9C,gBACA,UACA,UACA,UACA,WACA,WAEA,QA2CAc,MAAMC,kBAAmBP,IACrB,MAAM,OACFQ,EAAM,gBACNC,EAAe,UACfC,GACAV,EAkBJ,OAAe,OAAXQ,GAAmBA,EAAOG,KAAKC,QACxB,KAIP,wBAAC,EAAAC,SAAQ,CAACC,QAtBM,KAChBL,IACA,MAAMM,EAAc,CAChBC,QAAS,WAEbN,EAAWF,GAAoB,OAAD,wBACvBA,GAAM,CACTG,KAAM,OAAF,wBACGH,EAAOG,MAAI,CACdC,QAASG,OAGjBE,SAASC,cAAcV,EAAOW,GAAI,CAC9BP,QAASG,KASmBnC,IAAI,wBAChC,wBAAC,EAAAwC,aAAY,KACT,wBAAC,UAAU,CAACC,SAAS,WAEzB,wBAAC,EAAAC,aAAY,CAACC,QAAQ,eAAeC,UAAU,iCAK3D,MAAMC,EAAmB,EAAAC,WAAYC,IAAU,CAC3CC,KAAM,CACFC,SAAU,OACVC,UAAW,UAEfC,UAAW,CACPC,QAASL,EAAMM,QAAQ,GACvBC,SAAU,cACVC,SAAU,IACVC,QAAS,eACTN,UAAW,QAEfO,MAAO,CACHC,WAAY,UACZJ,SAAU,eAEdK,OAAQ,CACJC,MAAO,WAEX5E,KAAM,CACF6E,SAAU,GAEdC,KAAM,CACFV,QAASL,EAAMM,QAAQ,IAE3BU,MAAO,CACHC,aAAcjB,EAAMM,QAAQ,IAEhCY,WAAY,CACRC,MAAO,KAEXC,UAAW,CACPD,MAAO,KAEXE,OAAQ,CACJR,MAAO,WAEXS,QAAS,CACLC,YAAavB,EAAMM,QAAQ,OA8QnC,SAASkB,EAAS/D,GACd,OAAOA,EAAEgE,QAAQ,gBAAiB,IAjQtC9C,MAAM+C,cAAerD,IACjB,MAAMsD,EAAU7B,KACV,OACFjB,EAAM,UACNE,GACAV,EAEEuD,EAAU/C,aAAM,EAANA,EAAQG,KAAc,SAE/B6C,EAASC,GAAc,EAAAC,SAA+B,OACtDC,EAAYC,GAAiB,EAAAF,UAAS,GAEvCG,EAAWlD,IACbD,EAAWF,GAAoB,OAAD,wBACvBA,GAAM,CACTG,KAAM,OAAF,wBACGH,EAAOG,MAAI,CACdC,QAASD,QAKfmD,EAA+B,MAAXN,EAkDpB7C,EAAI,6BACNoD,QAAS,GACTC,WAAY,GACZC,QAAS,GACTC,OAAQ,GACRlD,QAAS,IACNuC,GACAC,GAGDW,EAAqC,IAAxBxD,EAAKoD,QAAQK,OAAe,0BAA0BzD,EAAKoD,QAAQK,OAAS,KACzFC,EAA2C,KAA3B1D,EAAKqD,WAAWI,OAAgB,2BAA2BzD,EAAKqD,WAAWI,OAAS,KACpGE,EAAqC,KAAxB3D,EAAKsD,QAAQG,OAAgB,2BAA2BzD,EAAKsD,QAAQG,OAAS,KAC3FG,EAAmC,KAAvB5D,EAAKuD,OAAOE,OAAgB,2BAA2BzD,EAAKuD,OAAOE,OAAS,KACxFI,EAAYL,GAAcE,GAAiBC,GAAcC,EAoCzDE,EAAeV,GAAoB,WAAaA,EAetD,OAAKR,EAMD,+BAAKmB,UAAWpB,EAAQ1B,MAAM,+BAAK8C,UAAWpB,EAAQvB,WAClD,wBAAC,EAAA4C,KAAI,CAACD,UAAWpB,EAAQjB,OACrB,wBAAC,EAAAuC,WAAU,CAACC,OAAQ,wBAAC,UAAU,MAC3BC,OACI,wBAAC,EAAAC,WAAU,cAAY,SAASjE,QAzF1B,KAClBkE,QAAQ,iEACR/D,SAASC,cAAcV,EAAOW,GAAI,CAC9BP,QAAS,OACVqE,KAAK,KACJpB,EAAQ,MACRJ,EAAW,OACXyB,IAEAC,MAAMD,OAiFM,wBAAC,UAAU,OAGnBE,MAAM,qBAEV,wBAAC,EAAAC,YAAW,KACR,wBAAC,EAAAC,UAAS,KACN,wBAAC,EAAAC,YAAW,CAACb,UAAW,UAAKpB,EAAQP,UAAWO,EAAQX,QACpD,wBAAC,EAAA6C,WAAU,CAACrE,GAAG,yBAAuB,mBACtC,wBAAC,EAAAsE,OAAM,CACHC,QAAQ,wBACRvE,GAAG,kBACH7C,MAAOqC,EAAKK,QACZ2E,SAzICC,IACzBnC,EAAW,OAAD,wBACHD,GAAO,CACVxC,QAAS4E,EAAMC,OAAOvH,WAwIF,wBAAC,EAAAuC,SAAQ,CAACvC,MAAM,WAAS,WACzB,wBAAC,EAAAuC,SAAQ,CAACvC,MAAM,SAAO,WAEjB,mCAC8B,cAA1CkF,aAAO,EAAPA,EAASxC,WAAWuC,aAAO,EAAPA,EAASvC,UAC3B,wBAAC,EAAA8E,SAAQ,KACL,wBAAC,EAAAP,YAAW,CAACL,MAAOvB,KAAgBQ,EAAYO,UAAWpB,EAAQX,OAC/D,wBAAC,EAAA6C,WAAU,CAACO,QAAQ,mBAAiB,4BACrC,wBAAC,EAAAC,MAAK,CACF7E,GAAG,kBACHwE,SA/IPC,IACzB,MAAM7B,EAAUZ,EAASyC,EAAMC,OAAOvH,OACtCmF,EAAW,OAAD,wBACHD,GAAO,CACVU,OAAQO,EAAYV,GACpBA,QAASA,MA2ImBzF,MAAOqC,EAAKoD,QACZW,UAAWpB,EAAQT,WACnBoD,aACI,wBAAC,EAAAC,eAAc,CAACC,SAAS,OACrB,wBAAC,EAAAC,QAAO,CAAChB,MAAM,gBACX,wBAAC,EAAAL,WAAU,CAACsB,KAAK,QAAQvF,QAvDjD,IAAY,OAAD,6BAI/BqE,MAAM,gDAoD0C,wBAAC,UAAO,WAM5B,wBAAC,EAAAmB,eAAc,KAAEnC,IAErB,wBAAC,EAAAoB,YAAW,CAACb,UAAWpB,EAAQX,MAAOuC,MAAOvB,KAAgBU,GAC1D,wBAAC,EAAAmB,WAAU,CAACO,QAAQ,kBAAgB,iCACpC,wBAAC,EAAAC,MAAK,CACF7E,GAAG,iBACHwE,SA1JPC,IACzBnC,EAAW,OAAD,wBACHD,GAAO,CACVQ,WAAYb,EAASyC,EAAMC,OAAOvH,WAwJNA,MAAOqC,EAAKqD,WACZU,UAAWpB,EAAQP,UACnBkD,aACI,wBAAC,EAAAC,eAAc,CAACC,SAAS,OACrB,wBAAC,EAAAC,QAAO,CAAChB,MAAM,gBACX,wBAAC,EAAAL,WAAU,CAACsB,KAAK,QAAQvF,QA1FpD,KACjB,MACMyF,EAAK,KAEP,IADA,IAAIC,EAAI,IAAIC,MAAM,IACTpJ,EAAI,EAAGA,EAAI,GAAIA,IAAKmJ,EAAEnJ,GAHnB,mBAAmC,GAAhBqJ,KAAKC,SAAgB,GAIpD,OAAOH,EAAEI,KAAK,KAElBnD,EAAW,OAAD,wBACHD,GAAO,CACVQ,WAAYuC,IACZtC,QAASsC,SAiFmC,wBAAC,UAAO,WAM5B,wBAAC,EAAAD,eAAc,KAAEjC,IAErB,wBAAC,EAAAwC,UAAS,CACN1F,GAAG,iBACH2F,MAAM,mBACNnB,SAtKJC,IACxBnC,EAAW,OAAD,wBACHD,GAAO,CACVS,QAASd,EAASyC,EAAMC,OAAOvH,WAoKPA,MAAOqC,EAAKsD,QACZS,UAAW,UAAKpB,EAAQP,UAAWO,EAAQX,OAC3CoE,WAAYzC,EACZY,MAAOvB,KAAgBW,KAI/B,wBAAC,EAAAuC,UAAS,CACN1F,GAAG,iBACH2F,MAAM,aACNnB,SA1KAC,IACxBnC,EAAW,OAAD,wBACHD,GAAO,CACVU,OAAQf,EAASyC,EAAMC,OAAOvH,WAwKVA,MAAOqC,EAAKuD,OACZQ,UAAW,UAAKpB,EAAQP,UAAWO,EAAQX,OAC3CoE,WAAYxC,EACZW,MAAOvB,KAAgBY,MAKvC,wBAAC,EAAAyC,YAAW,CAACtC,UAAWpB,EAAQN,QAC5B,wBAAC,EAAAiE,KAAI,CAACC,GAAIpD,GACN,wBAAC,EAAAqD,OAAM,CACHzC,UAAWpB,EAAQL,QACnBmE,QAAQ,YACR5E,MAAM,UACN1B,QApJF,KAElB8C,GAAc,GACXY,GAEHvD,SAASC,cAAcV,EAAOW,GAAI,CAC9BP,QAASD,IACVsE,KAAK,KACJpB,EAAQlD,GACR8C,EAAW,OACXyB,IAEAC,MAAMD,MAyIUmC,UAAW,wBAAC,UAAQ,OAAG,SAK/B,wBAAC,EAAAJ,KAAI,CAACC,GAAIpD,EAAmBwD,QAAS,CAAGC,MAAO,IAAKC,KAAM,MACvD,wBAAC,EAAAL,OAAM,CACHzC,UAAWpB,EAAQL,QACnBnC,QA7IH,KACjB2C,EAAW,QA4I8B,cA3GlC,OA4HfnD,MAAMmH,W,6BC/YN,IAAIjI,EAAyB,EAAQ,GAErCzB,OAAOC,eAAeb,EAAS,aAAc,CAC3CmB,OAAO,IAETnB,EAAQsC,aAAU,EAElB,IAAII,EAASL,EAAuB,EAAQ,IAIxCkI,GAAW,EAFMlI,EAAuB,EAAQ,IAElBC,SAASI,EAAOJ,QAAQS,cAAc,OAAQ,CAC9EvC,EAAG,sBACD,UAEJR,EAAQsC,QAAUiI,G,cCjBlBtK,EAAOD,QAAUmC,oBAAoBqI,S,cCArCvK,EAAOD,QAAUyK,WAAWC,S,6BCE5B,IAAIrI,EAAyB,EAAQ,GAErCzB,OAAOC,eAAeb,EAAS,aAAc,CAC3CmB,OAAO,IAETnB,EAAQsC,aAAU,EAElB,IAAII,EAASL,EAAuB,EAAQ,IAIxCkI,GAAW,EAFMlI,EAAuB,EAAQ,IAElBC,SAASI,EAAOJ,QAAQS,cAAc,OAAQ,CAC9EvC,EAAG,mUACD,UAEJR,EAAQsC,QAAUiI,G,6BCflB,IAAIlI,EAAyB,EAAQ,GAErCzB,OAAOC,eAAeb,EAAS,aAAc,CAC3CmB,OAAO,IAETnB,EAAQsC,aAAU,EAElB,IAAII,EAASL,EAAuB,EAAQ,IAIxCkI,GAAW,EAFMlI,EAAuB,EAAQ,IAElBC,SAASI,EAAOJ,QAAQS,cAAc,OAAQ,CAC9EvC,EAAG,mJACD,QAEJR,EAAQsC,QAAUiI,G,6BCflB,IAAIlI,EAAyB,EAAQ,GAErCzB,OAAOC,eAAeb,EAAS,aAAc,CAC3CmB,OAAO,IAETnB,EAAQsC,aAAU,EAElB,IAAII,EAASL,EAAuB,EAAQ,IAIxCkI,GAAW,EAFMlI,EAAuB,EAAQ,IAElBC,SAASI,EAAOJ,QAAQS,cAAc,OAAQ,CAC9EvC,EAAG,mKACD,oBAEJR,EAAQsC,QAAUiI,G,cCjBlBtK,EAAOD,QAAUyK,Y,6BCAjB,SAASE,EAAMC,GACd,IAAIvB,EAAGwB,EAAGC,EAAI,GACd,GAAIF,EACH,GAAmB,iBAARA,EACV,GAAItB,MAAMyB,QAAQH,GACjB,IAAKvB,EAAE,EAAGA,EAAIuB,EAAI3D,OAAQoC,IACrBuB,EAAIvB,KAAOwB,EAAIF,EAAMC,EAAIvB,OAC5ByB,IAAQA,GAAO,KACfA,GAAOD,QAIT,IAAKxB,KAAKuB,EACLA,EAAIvB,KAAOwB,EAAIF,EAAMtB,MACxByB,IAAQA,GAAO,KACfA,GAAOD,OAIe,kBAARD,GAAsBA,EAAIvK,OAC3CyK,IAAQA,GAAO,KACfA,GAAOF,GAGT,OAAOE,EAxBR,OA2Be,qBAEd,IADA,IAASE,EAAL9K,EAAE,EAAM4K,EAAI,GACT5K,EAAI+K,UAAUhE,SAChB+D,EAAIL,EAAMM,UAAU/K,SACvB4K,IAAQA,GAAO,KACfA,GAAOE,GAGT,OAAOF","file":"hook.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","module.exports = React;","module.exports = BabelRuntimeHelpers.interopRequireDefault;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = createSvgIcon;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _SvgIcon = _interopRequireDefault(require(\"@material-ui/core/SvgIcon\"));\n\nfunction createSvgIcon(path, displayName) {\n  var Component = _react.default.memo(_react.default.forwardRef(function (props, ref) {\n    return _react.default.createElement(_SvgIcon.default, (0, _extends2.default)({\n      ref: ref\n    }, props), path);\n  }));\n\n  if (process.env.NODE_ENV !== 'production') {\n    Component.displayName = \"\".concat(displayName, \"Icon\");\n  }\n\n  Component.muiName = _SvgIcon.default.muiName;\n  return Component;\n}","import React, { Fragment, useState } from \"react\";\r\nimport RemoveIcon from '@material-ui/icons/Remove';\r\nimport RouterIcon from '@material-ui/icons/Router';\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport AddIcon from '@material-ui/icons/AddCircleOutline';\r\nimport clsx from \"clsx\";\r\nimport { Device, Waziup, Sensor, Actuator, DeviceHook, DeviceHookProps, DeviceMenuHook, MenuHookProps, HookRegistry } from \"waziup\";\r\nimport {\r\n    Grow,\r\n    IconButton,\r\n    ListItemIcon,\r\n    ListItemText,\r\n    Toolbar,\r\n    Typography,\r\n    makeStyles,\r\n    InputLabel,\r\n    FormControl,\r\n    TextField,\r\n    MenuItem,\r\n    Select,\r\n    Paper,\r\n    Button,\r\n    CardActions,\r\n    Tooltip,\r\n    FormGroup,\r\n    Input,\r\n    InputAdornment,\r\n    CardContent,\r\n    CardHeader,\r\n    Card,\r\n    FormHelperText\r\n} from '@material-ui/core';\r\n\r\n// Add a item to the dashboard menu.\r\n// The menu structure will be like this:\r\n// ```\r\n// - Dashboard\r\n// - Settings\r\n// + Apps\r\n//   - LoRaWAN    <- new\r\n// ```\r\n\r\n// hooks.setMenuHook(\"apps.lorawan\", {\r\n//     primary: \"LoRaWAN\",\r\n//     icon: <RouterIcon />,\r\n//     href: \"#/apps/waziup.wazigate-lora/index.html\",\r\n// });\r\n\r\n// A DeviceMenuHook adds a item to the devices context menu.\r\n// We show a \"Make LoRaWAN\" for all devices that don't have `lorawan` metadata.  \r\nhooks.addDeviceMenuHook((props: DeviceHookProps & MenuHookProps) => {\r\n    const {\r\n        device,\r\n        handleMenuClose,\r\n        setDevice\r\n    } = props;\r\n    const handleClick = () => {\r\n        handleMenuClose();\r\n        const lorawanMeta = {\r\n            profile: \"WaziDev\",\r\n        };\r\n        setDevice((device: Device) => ({\r\n            ...device,\r\n            meta: {\r\n                ...device.meta,\r\n                lorawan: lorawanMeta\r\n            }\r\n        }));\r\n        wazigate.setDeviceMeta(device.id, {\r\n            lorawan: lorawanMeta\r\n        })\r\n    }\r\n\r\n    if (device === null || device.meta.lorawan) {\r\n        return null;\r\n    }\r\n\r\n    return (\r\n        <MenuItem onClick={handleClick} key=\"waziup.wazigate-lora\">\r\n            <ListItemIcon>\r\n                <RouterIcon fontSize=\"small\" />\r\n            </ListItemIcon>\r\n            <ListItemText primary=\"Make LoRaWAN\" secondary=\"Declare as LoRaWAN device\" />\r\n        </MenuItem>\r\n    );\r\n})\r\n\r\nconst useStylesLoRaWAN = makeStyles((theme) => ({\r\n    root: {\r\n        overflow: \"auto\",\r\n        textAlign: \"center\",\r\n    },\r\n    scrollBox: {\r\n        padding: theme.spacing(2),\r\n        minWidth: \"fit-content\",\r\n        maxWidth: 650,\r\n        display: \"inline-block\",\r\n        textAlign: \"left\",\r\n    },\r\n    paper: {\r\n        background: \"#d8dee9\",\r\n        minWidth: \"fit-content\",\r\n    },\r\n    header: {\r\n        color: \"#34425a\",\r\n    },\r\n    name: {\r\n        flexGrow: 1,\r\n    },\r\n    body: {\r\n        padding: theme.spacing(2),\r\n    },\r\n    input: {\r\n        marginBottom: theme.spacing(1)\r\n    },\r\n    shortInput: {\r\n        width: 300,\r\n    },\r\n    longInput: {\r\n        width: 500,\r\n    },\r\n    footer: {\r\n        color: \"#34425a\",\r\n    },\r\n    cardBtn: {\r\n        marginRight: theme.spacing(2),\r\n    }\r\n}));\r\n\r\ntype LoRaWANMeta = {\r\n    profile: string;\r\n    devEUI: string;\r\n    devAddr: string;\r\n    appSKey: string;\r\n    nwkSEncKey: string;\r\n};\r\n\r\n// A DevicHook adds some UI to a device.\r\n// We add some input fields to make LoRaWAN settings for a device with `lorawan` meta.\r\nhooks.addDeviceHook((props: DeviceHookProps) => {\r\n    const classes = useStylesLoRaWAN();\r\n    const {\r\n        device,\r\n        setDevice\r\n    } = props;\r\n\r\n    const oldMeta = device?.meta[\"lorawan\"] as LoRaWANMeta;\r\n\r\n    const [newMeta, setNewMeta] = useState<Partial<LoRaWANMeta>>(null);\r\n    const [showErrors, setShowErrors] = useState(false);\r\n\r\n    const setMeta = (meta: LoRaWANMeta) => {\r\n        setDevice((device: Device) => ({\r\n            ...device,\r\n            meta: {\r\n                ...device.meta,\r\n                lorawan: meta\r\n            }\r\n        }));\r\n    }\r\n\r\n    const hasUnsavedChanges = newMeta != null;\r\n\r\n    const handleProfileChange = (event: React.ChangeEvent<HTMLSelectElement>) => {\r\n        setNewMeta({\r\n            ...newMeta,\r\n            profile: event.target.value as string\r\n        });\r\n    };\r\n    const handleDevAddrChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        const devAddr = cleanHex(event.target.value as string);\r\n        setNewMeta({\r\n            ...newMeta,\r\n            devEUI: devAddr2EUI(devAddr),\r\n            devAddr: devAddr\r\n        });\r\n    };\r\n    const handleNwkSKeyChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        setNewMeta({\r\n            ...newMeta,\r\n            nwkSEncKey: cleanHex(event.target.value as string)\r\n        });\r\n    };\r\n    const handleAppKeyChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        setNewMeta({\r\n            ...newMeta,\r\n            appSKey: cleanHex(event.target.value as string)\r\n        });\r\n    };\r\n\r\n    const handleDevEUIChange = (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        setNewMeta({\r\n            ...newMeta,\r\n            devEUI: cleanHex(event.target.value as string)\r\n        });\r\n    };\r\n\r\n    const handleRemoveClick = () => {\r\n        if (confirm(\"Do you want to remove the LoRaWAN settings from this device?\")) {\r\n            wazigate.setDeviceMeta(device.id, {\r\n                lorawan: null\r\n            }).then(() => {\r\n                setMeta(null);\r\n                setNewMeta(null);\r\n            }, (error) => {\r\n                // TODO: improve\r\n                alert(error);\r\n            });\r\n        }\r\n    }\r\n\r\n    const meta: LoRaWANMeta = {\r\n        devAddr: \"\",\r\n        nwkSEncKey: \"\",\r\n        appSKey: \"\",\r\n        devEUI: \"\",\r\n        profile: \"\",\r\n        ...oldMeta,\r\n        ...newMeta\r\n    };\r\n\r\n    const devAddrErr = meta.devAddr.length !== 8 ? \"8 digits required, got \"+meta.devAddr.length : null;\r\n    const nwkSEncKeyErr = meta.nwkSEncKey.length !== 32 ? \"32 digits required, got \"+meta.nwkSEncKey.length : null;\r\n    const appSKeyErr = meta.appSKey.length !== 32 ? \"32 digits required, got \"+meta.appSKey.length : null;\r\n    const devEUIErr = meta.devEUI.length !== 16 ? \"16 digits required, got \"+meta.devEUI.length : null;\r\n    const hasErrors = devAddrErr || nwkSEncKeyErr || appSKeyErr || devEUIErr;\r\n\r\n    const submitChanges = () => {\r\n\r\n        setShowErrors(true);\r\n        if(hasErrors) return;\r\n\r\n        wazigate.setDeviceMeta(device.id, {\r\n            lorawan: meta\r\n        }).then(() => {\r\n            setMeta(meta);\r\n            setNewMeta(null);\r\n        }, (error) => {\r\n            // TODO: improve\r\n            alert(error);\r\n        });\r\n    }\r\n\r\n    const resetChanges = () => {\r\n        setNewMeta(null);\r\n    }\r\n\r\n    const generateKeys = () => {\r\n        const r = () => \"0123456789ABCDEF\"[Math.random() * 16 | 0];\r\n        const rk = () => {\r\n            var k = new Array(32);\r\n            for (var i = 0; i < 32; i++) k[i] = r();\r\n            return k.join(\"\");\r\n        }\r\n        setNewMeta({\r\n            ...newMeta,\r\n            nwkSEncKey: rk(),\r\n            appSKey: rk()\r\n        });\r\n    }\r\n\r\n    const devAddr2EUI = (devAddr: string) => \"AA555A00\" + devAddr;\r\n\r\n    const generateDevAddr = async () => {\r\n        // TODO: implement :)\r\n        // The randomDevAddr endpoint exists but requires a valid devEUI\r\n        // but the devEUI if generated from the devAddr, so this conflicts\r\n        alert(\"This feature is not available right now.\");\r\n        // const devEUI = \"AA555A0012345678\";\r\n        // const devAddr = await wazigate.set<string>(\"apps/waziup.wazigate-lora/randomDevAddr\", devEUI);\r\n        // setMeta({\r\n        //     ...meta,\r\n        //     devAddr: devAddr\r\n        // });\r\n    }\r\n\r\n    if (!oldMeta) {\r\n        return null;\r\n    }\r\n\r\n    // TODO: UI inputs should show an error if the keys or devAddr is bad formatted\r\n    return (\r\n        <div className={classes.root}><div className={classes.scrollBox}>\r\n            <Card className={classes.paper}>\r\n                <CardHeader avatar={<RouterIcon />}\r\n                    action={\r\n                        <IconButton aria-label=\"remove\" onClick={handleRemoveClick}>\r\n                            <RemoveIcon />\r\n                        </IconButton>\r\n                    }\r\n                    title=\"LoRaWAN Settings\"\r\n                />\r\n                <CardContent>\r\n                    <FormGroup>\r\n                        <FormControl className={clsx(classes.longInput, classes.input)}>\r\n                            <InputLabel id=\"lorawan-profile-label\">LoRaWAN Profile</InputLabel>\r\n                            <Select\r\n                                labelId=\"lorawan-profile-label\"\r\n                                id=\"lorawan-profile\"\r\n                                value={meta.profile}\r\n                                onChange={handleProfileChange}\r\n                            >\r\n                                <MenuItem value=\"WaziDev\">WaziDev</MenuItem>\r\n                                <MenuItem value=\"Other\">Other</MenuItem>\r\n                            </Select>\r\n                        </FormControl><br />\r\n                        {(newMeta?.profile || oldMeta?.profile) === \"WaziDev\" ? (\r\n                            <Fragment>\r\n                                <FormControl error={showErrors && !!devAddrErr} className={classes.input}>\r\n                                    <InputLabel htmlFor=\"lorawan-devaddr\">DevAddr (Device Address)</InputLabel>\r\n                                    <Input\r\n                                        id=\"lorawan-devaddr\"\r\n                                        onChange={handleDevAddrChange}\r\n                                        value={meta.devAddr}\r\n                                        className={classes.shortInput}\r\n                                        endAdornment={\r\n                                            <InputAdornment position=\"end\">\r\n                                                <Tooltip title=\"Autogenerate\">\r\n                                                    <IconButton size=\"small\" onClick={generateDevAddr}>\r\n                                                        <AddIcon />\r\n                                                    </IconButton>\r\n                                                </Tooltip>\r\n                                            </InputAdornment>\r\n                                        }\r\n                                    />\r\n                                    <FormHelperText>{devAddrErr}</FormHelperText>\r\n                                </FormControl>\r\n                                <FormControl className={classes.input} error={showErrors && !!nwkSEncKeyErr}>\r\n                                    <InputLabel htmlFor=\"lorawan-nwskey\">NwkSKey (Network Session Key)</InputLabel>\r\n                                    <Input\r\n                                        id=\"lorawan-nwskey\"\r\n                                        onChange={handleNwkSKeyChange}\r\n                                        value={meta.nwkSEncKey}\r\n                                        className={classes.longInput}\r\n                                        endAdornment={\r\n                                            <InputAdornment position=\"end\">\r\n                                                <Tooltip title=\"Autogenerate\">\r\n                                                    <IconButton size=\"small\" onClick={generateKeys}>\r\n                                                        <AddIcon />\r\n                                                    </IconButton>\r\n                                                </Tooltip>\r\n                                            </InputAdornment>\r\n                                        }\r\n                                    />\r\n                                    <FormHelperText>{nwkSEncKeyErr}</FormHelperText>\r\n                                </FormControl>\r\n                                <TextField\r\n                                    id=\"lorawan-appkey\"\r\n                                    label=\"AppKey (App Key)\"\r\n                                    onChange={handleAppKeyChange}\r\n                                    value={meta.appSKey}\r\n                                    className={clsx(classes.longInput, classes.input)}\r\n                                    helperText={appSKeyErr}\r\n                                    error={showErrors && !!appSKeyErr}\r\n                                    />\r\n                            </Fragment>\r\n                        ) : (\r\n                            <TextField\r\n                                id=\"lorawan-deveui\"\r\n                                label=\"Device EUI\"\r\n                                onChange={handleDevEUIChange}\r\n                                value={meta.devEUI}\r\n                                className={clsx(classes.longInput, classes.input)}\r\n                                helperText={devEUIErr}\r\n                                error={showErrors && !!devEUIErr}\r\n                                />\r\n                        )}\r\n                    </FormGroup>\r\n                </CardContent>\r\n                <CardActions className={classes.footer}>\r\n                    <Grow in={hasUnsavedChanges}>\r\n                        <Button\r\n                            className={classes.cardBtn}\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            onClick={submitChanges}\r\n                            startIcon={<SaveIcon />}\r\n                        >\r\n                            Save\r\n                            </Button>\r\n                    </Grow>\r\n                    <Grow in={hasUnsavedChanges} timeout={({ enter: 500, exit: 200 })}>\r\n                        <Button\r\n                            className={classes.cardBtn}\r\n                            onClick={resetChanges}\r\n                        >\r\n                            Reset\r\n                            </Button>\r\n                    </Grow>\r\n                </CardActions>\r\n            </Card>\r\n        </div></div>\r\n    );\r\n});\r\n\r\nfunction cleanHex(s: string) {\r\n    return s.replace(/[^a-zA-Z0-9]/g, \"\");\r\n}\r\n\r\n// Hook scripts always need to call this function to signal that the hook file was\r\n// successfully executed.\r\nhooks.resolve();","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M19 13H5v-2h14v2z\"\n}), 'Remove');\n\nexports.default = _default;","module.exports = BabelRuntimeHelpers.extends;","module.exports = MaterialUI.SvgIcon;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M20.2 5.9l.8-.8C19.6 3.7 17.8 3 16 3s-3.6.7-5 2.1l.8.8C13 4.8 14.5 4.2 16 4.2s3 .6 4.2 1.7zm-.9.8c-.9-.9-2.1-1.4-3.3-1.4s-2.4.5-3.3 1.4l.8.8c.7-.7 1.6-1 2.5-1 .9 0 1.8.3 2.5 1l.8-.8zM19 13h-2V9h-2v4H5c-1.1 0-2 .9-2 2v4c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-4c0-1.1-.9-2-2-2zM8 18H6v-2h2v2zm3.5 0h-2v-2h2v2zm3.5 0h-2v-2h2v2z\"\n}), 'Router');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z\"\n}), 'Save');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"\n}), 'AddCircleOutline');\n\nexports.default = _default;","module.exports = MaterialUI;","function toVal(mix) {\n\tvar k, y, str='';\n\tif (mix) {\n\t\tif (typeof mix === 'object') {\n\t\t\tif (Array.isArray(mix)) {\n\t\t\t\tfor (k=0; k < mix.length; k++) {\n\t\t\t\t\tif (mix[k] && (y = toVal(mix[k]))) {\n\t\t\t\t\t\tstr && (str += ' ');\n\t\t\t\t\t\tstr += y;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (k in mix) {\n\t\t\t\t\tif (mix[k] && (y = toVal(k))) {\n\t\t\t\t\t\tstr && (str += ' ');\n\t\t\t\t\t\tstr += y;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (typeof mix !== 'boolean' && !mix.call) {\n\t\t\tstr && (str += ' ');\n\t\t\tstr += mix;\n\t\t}\n\t}\n\treturn str;\n}\n\nexport default function () {\n\tvar i=0, x, str='';\n\twhile (i < arguments.length) {\n\t\tif (x = toVal(arguments[i++])) {\n\t\t\tstr && (str += ' ');\n\t\t\tstr += x\n\t\t}\n\t}\n\treturn str;\n}\n"],"sourceRoot":""}